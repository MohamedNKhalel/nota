"use strict";(self.webpackChunknota=self.webpackChunknota||[]).push([[592],{872:(v,l,t)=>{t.d(l,{e:()=>c});var a=t(5619),g=t(8398),o=(t(534),t(9058),t(7879),t(4537),t(5879)),h=t(981),u=t(9228),d=t(3881);let c=(()=>{class s{constructor(e,i,r){this._AngularFireAuth=e,this._Router=i,this._DataService=r,this.loginErrMsg=new a.X(""),this.registerErrMsg=new a.X("")}login(e,i){this._AngularFireAuth.signInWithEmailAndPassword(e,i).then(r=>{1==r.user?.emailVerified?(localStorage.setItem("token",JSON.stringify(r.user?.uid)),this._Router.navigate(["/home"])):this._Router.navigate(["/verify"])},r=>{console.log("error loging"),this.loginErrMsg.next("Incorrect email or password")})}register(e,i,r){this._AngularFireAuth.createUserWithEmailAndPassword(e,i).then(n=>{console.log("email created succes"),n.user&&n.user.updateProfile({displayName:r}),n.user?.emailVerified?this._Router.navigate(["/login"]):n.user?.sendEmailVerification().then(()=>{this._Router.navigate(["/verify"]),this._DataService.email.next(e)},y=>{console.log("sending email verification went wrong")})},n=>{console.log("email created fail"),this.registerErrMsg.next("The email address is already in use by another account")})}signOut(){this._AngularFireAuth.signOut().then(()=>{localStorage.removeItem("token"),this._Router.navigate(["/login"])},e=>{console.log("can not sign out ")})}forgetPassword(e){this._AngularFireAuth.sendPasswordResetEmail(e).then(()=>{this._Router.navigate(["/verify"])},i=>{console.log(i)})}signInWithGoogle(){this._AngularFireAuth.signInWithPopup(new g.X).then(e=>{localStorage.setItem("token",JSON.stringify(e.user?.uid)),this._Router.navigate(["/home"])},e=>{console.log("google Failed")})}getUserInfo(){return this._AngularFireAuth.authState}static#e=this.\u0275fac=function(i){return new(i||s)(o.LFG(h.zQ),o.LFG(u.F0),o.LFG(d.D))};static#t=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);